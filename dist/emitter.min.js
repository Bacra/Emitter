/*! MisEvent 1.0.0 */
var Emitter=function(){function w(a,e,d){return function(b,f){return b&&null!==b&&"object"==typeof b?(e(b,f),d):a(b,f)}}function s(a,e){for(var d in e)a[d]=e[d]}function y(a,e){var d,b;for(b in e)(d=e[b])&&null!==d&&"object"==typeof d?((d=a[b])||(a[b]=d={}),y(d,a[b])):a[b]=d}function g(a,e){for(var d=0,b=a.length;d<b&&!1!==e(a[d],d);d++);}function f(a){a.disabled=!0}function h(a,e,d){g(e,function(b){b.func===a&&d(b)})}return function(a,e){function d(c){return"after"==c?n:"final"==c?p:k}function b(c,
b,a){a||(a=b,b={});a||(a=c,c="");var e={data:b,func:a,off:function(){e.disabled=!0}};d(c).push(e);return e}function x(c,a){a&&s(q,c);s(l,c)}function z(c,a){return a?q[c]:l[c]}function t(c,a){a&&delete q[c];delete l[c]}var k=[],n=[],p=[],q={},l={};return{on:function(){b.apply(null,arguments);return e},off:function(c,a){c&&a?h(a,d(c),f):c?"function"==typeof c?(h(c,k,f),h(c,n,f),h(c,p,f)):g(d(c),f):(g(k,f),g(n,f),g(p,f));return e},once:function(){var a=b.apply(null,arguments);b("final",function(){a.disabled=
!0})},param:w(z,x,e),removeParam:t,trigger:function(){if(a)return a.apply(e,arguments)},emit:function(){var c=Array.prototype.slice.call(arguments),b,d,f,g,j=!1,h=!1,A=function(a,b){var c=a[b];return!c?!1:c.disabled?(a.splice(b,1),A(a,b)):c},u=function(a){for(f=0;!j&&f<a.length;f++)if(g=a[f],g.disabled)a.splice(f,1),f--;else if(c[0]=new r(g),b=g.func.apply(e,c),!1===b){j=!0;break}},m;m=l;var v=w(z,x,e);y(v,q);s(v,m);m=v;l={};var r=function(a){this.data=a.data;this.off=a.off;this.preReturn=b;this.next=
function(){if(j)return!1;var a=A(k,++f);return a&&(c[0]=new r(a),b=a.func.apply(e,c),!1===b)?(j=!0,!1):!0}};r.prototype={param:m,removeParam:t,preventDefault:function(){h=!0}};c.unshift(null);u(k);!j&&(!h&&a)&&(c[0]={preReturn:b,param:m,removeParam:t},b=d=a.apply(e,c),!1===b&&(j=!0));r.prototype.defaultReturn=d;u(n);j=!1;u(p);return d}}}}();
